---
// AUTH
import { isLoggedIn, getUser } from '../utils/auth';

// COMPONENTS
import Layout from '../layouts/Layout.astro';
import List from '../components/users/List';

// REDIRECT
const token = Astro.cookies.get("AUTH_TOKEN");
if (!isLoggedIn(token)) {
	return Astro.redirect("/login")
}

const user = getUser(token);
---

<Layout title="Usuarios - SSAA2">
	<List client:only="react" user={user}/>
</Layout>
